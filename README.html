<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="/home/max/.pandoc/pandoc.css" type="text/css" />
</head>
<body>
<div id="TOC">
<ul>
<li><a href="#kafkabeat">Kafkabeat</a><ul>
<li><a href="#getting-started-with-kafkabeat">Getting Started with Kafkabeat</a><ul>
<li><a href="#requirements">Requirements</a></li>
<li><a href="#init-project">Init Project</a></li>
<li><a href="#build">Build</a></li>
<li><a href="#run">Run</a></li>
<li><a href="#test">Test</a></li>
<li><a href="#update">Update</a></li>
<li><a href="#cleanup">Cleanup</a></li>
<li><a href="#clone">Clone</a></li>
</ul></li>
<li><a href="#packaging">Packaging</a></li>
</ul></li>
</ul>
</div>
<h1 id="kafkabeat">Kafkabeat</h1>
<p>Welcome to Kafkabeat.</p>
<p>Ensure that this folder is at the following location: <code>${GOPATH}/src/github.com/justsocialapps/kafkabeat</code></p>
<h2 id="getting-started-with-kafkabeat">Getting Started with Kafkabeat</h2>
<h3 id="requirements">Requirements</h3>
<ul>
<li><a href="https://golang.org/dl/">Golang</a> 1.7</li>
</ul>
<h3 id="init-project">Init Project</h3>
<p>To get running with Kafkabeat and also install the dependencies, run the following command:</p>
<pre><code>make setup</code></pre>
<p>It will create a clean git history for each major step. Note that you can always rewrite the history if you wish before pushing your changes.</p>
<p>To push Kafkabeat in the git repository, run the following commands:</p>
<pre><code>git remote set-url origin https://github.com/justsocialapps/kafkabeat
git push origin master</code></pre>
<p>For further development, check out the <a href="https://www.elastic.co/guide/en/beats/libbeat/current/new-beat.html">beat developer guide</a>.</p>
<h3 id="build">Build</h3>
<p>To build the binary for Kafkabeat run the command below. This will generate a binary in the same directory with the name kafkabeat.</p>
<pre><code>make</code></pre>
<h3 id="run">Run</h3>
<p>To run Kafkabeat with debugging output enabled, run:</p>
<pre><code>./kafkabeat -c kafkabeat.yml -e -d &quot;*&quot;</code></pre>
<h3 id="test">Test</h3>
<p>To test Kafkabeat, run the following command:</p>
<pre><code>make testsuite</code></pre>
<p>alternatively:</p>
<pre><code>make unit-tests
make system-tests
make integration-tests
make coverage-report</code></pre>
<p>The test coverage is reported in the folder <code>./build/coverage/</code></p>
<h3 id="update">Update</h3>
<p>Each beat has a template for the mapping in elasticsearch and a documentation for the fields which is automatically generated based on <code>fields.yml</code> by running the following command.</p>
<pre><code>make update</code></pre>
<h3 id="cleanup">Cleanup</h3>
<p>To clean Kafkabeat source code, run the following commands:</p>
<pre><code>make fmt
make simplify</code></pre>
<p>To clean up the build directory and generated artifacts, run:</p>
<pre><code>make clean</code></pre>
<h3 id="clone">Clone</h3>
<p>To clone Kafkabeat from the git repository, run the following commands:</p>
<pre><code>mkdir -p ${GOPATH}/src/github.com/justsocialapps/kafkabeat
git clone https://github.com/justsocialapps/kafkabeat ${GOPATH}/src/github.com/justsocialapps/kafkabeat</code></pre>
<p>For further development, check out the <a href="https://www.elastic.co/guide/en/beats/libbeat/current/new-beat.html">beat developer guide</a>.</p>
<h2 id="packaging">Packaging</h2>
<p>The beat frameworks provides tools to crosscompile and package your beat for different platforms. This requires <a href="https://www.docker.com/">docker</a> and vendoring as described above. To build packages of your beat, run the following command:</p>
<pre><code>make package</code></pre>
<p>This will fetch and create all images required for the build process. The hole process to finish can take several minutes.</p>
</body>
</html>
